webpackJsonp([1],{"+Ee1":function(t,e){},"/AcB":function(t,e){},"/yqo":function(t,e){},0:function(t,e){},"1WXB":function(t,e){},"2Paj":function(t,e,i){t.exports=i.p+"static/img/person_placeholder.d62c204.png"},"7zck":function(t,e){},"8h/0":function(t,e){},"8xu7":function(t,e){},"9ou9":function(t,e){},"E/Wt":function(t,e,i){"use strict";var r={name:"BackToTop",props:{text:{type:String,default:"Voltar ao topo"},visibleOffset:{type:[String,Number],default:600},right:{type:Number,default:30},bottom:{type:Number,default:40}},data:function(){return{visible:!1}},created:function(){var t=this;window.smoothscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(window.smoothscroll),window.scrollTo(0,Math.floor(t-t/5)))},window.onscroll=function(){t.visible=window.pageYOffset>parseInt(t.visibleOffset)}},methods:{backToTop:function(){window.smoothscroll()}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"back-to-top-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"vue-back-to-top",style:"bottom:"+this.bottom+"px;right:"+this.right+"px;",on:{click:this.backToTop}},[this._t("default",[e("div",{staticClass:"default"},[e("span",[this._v("\n          "+this._s(this.text)+"\n        ")])])])],2)])},staticRenderFns:[]};var a=i("VU/8")(r,o,!1,function(t){i("VmyN")},null,null);e.a=a.exports},GcdA:function(t,e){},"I6+B":function(t,e,i){var r=i("beJZ");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i("rjj0")("e6c0fd04",r,!0,{})},JcAr:function(t,e){},K7q7:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("7+uW"),o={data:function(){return{sideNav:!1,menuItems:[{title:"Home",link:"/",icon:"home"},{title:"Category",link:"/about",icon:"list"},{title:"Info",link:"/info",icon:"info"},{title:"About",link:"/services",icon:"loyalty"},{title:"Account",link:"/account",icon:"people"},{title:"Sing in",link:"/signin",icon:"perm_identity"}]}},methods:{onLogout:function(){this.$store.dispatch("logout")}},computed:{isAdminPanel:function(){return"/admin"===window.location.pathname},productCount:function(){return this.$store.getters.cart.length}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isAdminPanel,expression:"!isAdminPanel"}],staticClass:"mb-3"},[i("el-row",{staticClass:"hidden-xs-only",attrs:{type:"flex",justify:"center"}},[i("el-menu",{attrs:{"default-active":"1",router:!0,mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"1",route:"/"}},[t._v("ReHigh Store")]),t._v(" "),i("el-menu-item",{attrs:{index:"2",route:"/shop"}},[t._v("Shop")]),t._v(" "),i("el-menu-item",{attrs:{index:"3",route:"/info"}},[t._v(" Info")]),t._v(" "),i("el-menu-item",{attrs:{index:"4",route:"/cart"}},[t._v("\n        Cart\n        "),i("el-tag",{staticClass:"mb-1",attrs:{size:"mini"}},[t._v(t._s(t.productCount))])],1),t._v(" "),i("el-submenu",{attrs:{index:"5"}},[i("template",{slot:"title"},[t._v(" User")]),t._v(" "),this.isAuthenticatedUser?i("el-menu-item",{attrs:{index:"5-1",route:"/account"}},[t._v("\n          Account\n        ")]):t._e(),t._v(" "),this.isAuthenticatedUser?t._e():i("el-menu-item",{attrs:{index:"5-2",route:"/signin"}},[t._v("\n          Sign in\n        ")]),t._v(" "),this.isAuthenticatedUser?t._e():i("el-menu-item",{attrs:{index:"5-3",route:"/signup"}},[t._v("\n          Sign up\n        ")]),t._v(" "),this.isAuthenticatedUser?i("el-menu-item",{attrs:{index:"5-4",route:"/logout"},on:{click:t.onLogout}},[t._v(" Logout\n        ")]):t._e()],2)],1)],1),t._v(" "),i("v-toolbar",{staticClass:"hidden-sm-and-up primary white--text"},[i("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up white--text",on:{click:function(e){t.sideNav=!t.sideNav}}}),t._v(" "),i("h2",[t._v("ReHigh Store")])],1),t._v(" "),i("v-navigation-drawer",{attrs:{temporary:"",absolute:"",height:"100vh"},model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[i("v-list",t._l(t.menuItems,function(e){return i("v-list-tile",{key:e.title,attrs:{to:e.link}},[i("v-list-tile-action",[i("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),i("v-list-tile-content",[t._v(t._s(e.title))])],1)}))],1)],1)},staticRenderFns:[]};var s={components:{AppHeader:i("VU/8")(o,a,!1,function(t){i("I6+B")},"data-v-5dceaf82",null).exports},name:"App"},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"app"}},[e("app-header"),this._v(" "),e("transition",{attrs:{name:"fade"}},[e("router-view")],1)],1)},staticRenderFns:[]};var l=i("VU/8")(s,n,!1,function(t){i("nrQ2")},null,null).exports,c=i("/ocq"),u=i("Sazm"),d={name:"HelloWorld",data:function(){return{msg:"",checked:!0}},methods:{getFBData:function(){var t=this;u.database().ref("books").once("value").then(function(e){t.msg=e.val()}).catch(function(e){t.msg=e})}}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[t._m(0),t._v(" "),r("h1",{staticStyle:{"font-size":"72px"}},[t._v("Store")]),t._v(" "),r("img",{staticStyle:{opacity:"0.9"},attrs:{src:i("bDaC"),alt:"",width:"500px"}}),t._v(" "),r("div",[r("el-button",{on:{click:t.getFBData}},[t._v("SayHi")])],1),t._v(" "),r("p",{staticStyle:{"font-size":"48px"}},[t._v(t._s(t.msg))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticStyle:{"font-size":"72px"}},[this._v("re:"),e("span",{staticClass:"primary--text"},[this._v("High")])])}]};var p=i("VU/8")(d,m,!1,function(t){i("dSdV")},"data-v-7943d556",null).exports,f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",{attrs:{"el-row":"",type:"flex",justify:"center"}},[e("el-col",{attrs:{xs:24,sm:18,md:14,lg:12,xl:6,type:"flex",align:"middle"}},[e("h1",[this._v("Hello from info")]),this._v(" "),e("p",[this._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus aut eveniet, impedit provident qui sed\n        ut.\n        Adipisci aspernatur cupiditate distinctio, esse facere fuga harum, illum laboriosam molestiae quam reiciendis,\n        totam!")])])],1)],1)}]};var v=i("VU/8")({name:"info"},f,!1,function(t){i("mU4s")},"data-v-17629e24",null).exports,h=i("S3i8"),_=i.n(h),g={name:"BuyOne",components:{PayPal:_.a},props:["order-items","amount","btn-name","currency"],data:function(){return{credentials:{sandbox:"AaTdJiFck5jx4xpaVOjFHkfNO8XZjflSRzYZ3yGbXEHZ43J7upAFabAkRhv1NJPPfDR49F9mqf8rbud4",production:"someId"},btnStyle:{label:"checkout",size:"responsive",shape:"rect",color:"blue"},dialogFormVisible:!1,activeStep:1,form_1:{firstname:"",lastname:"",birthday:"",phone:""},form_2:{country:"",city:"",street:"",home:"",post:""}}},methods:{nextStep:function(){this.activeStep<4&&this.activeStep++},prevStep:function(){this.activeStep>1&&this.activeStep--}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("\n    "+t._s(t.btnName)+"\n  ")]),t._v(" "),t.orderItems?i("el-dialog",{attrs:{title:"CHECKOUT FORM",width:"100%",visible:t.dialogFormVisible,fullscreen:!0},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[t._l(t.orderItems,function(e){return i("div",{key:e.description,staticStyle:{"font-size":"18px","margin-bottom":"20px","":"0","padding-top":"0"}},[i("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.name)+": ")]),t._v(" "),i("el-tag",[t._v(t._s(e.price))]),t._v("\n      x\n      "),i("el-tag",[t._v(t._s(e.quantity))]),t._v("\n      =\n      "),i("el-tag",{staticClass:"mb-2"},[t._v(t._s(parseFloat(e.price*e.quantity).toFixed(2))+" "+t._s(t.currency))])],1)}),t._v(" "),i("p",[t._v("Total: "+t._s(this.amount)+" "+t._s(t.currency))]),t._v(" "),i("el-steps",{attrs:{active:t.activeStep,"align-center":""}},[i("el-step",{attrs:{title:"Personal Details",icon:"el-icon-edit"}}),t._v(" "),i("el-step",{attrs:{title:"Shipping",icon:"el-icon-location"}}),t._v(" "),i("el-step",{attrs:{title:"Review order",icon:"el-icon-document"}}),t._v(" "),i("el-step",{attrs:{title:"Payment",icon:"el-icon-circle-check-outline"}})],1),t._v(" "),i("el-row",{staticClass:"mt-2",staticStyle:{height:"450px"},attrs:{type:"flex",justify:"center"}},[1===t.activeStep?i("div",{staticClass:"form_1"},[i("el-form",{attrs:{"label-position":"top","label-width":"100px",model:t.form_1}},[i("el-form-item",{attrs:{label:"Email",prop:"email"}},[i("el-input",{attrs:{type:"email",id:"email","auto-complete":"on"},model:{value:t.form_1.email,callback:function(e){t.$set(t.form_1,"email",e)},expression:"form_1.email"}})],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"First name"}},[i("el-input",{model:{value:t.form_1.firstname,callback:function(e){t.$set(t.form_1,"firstname",e)},expression:"form_1.firstname"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"Last name"}},[i("el-input",{model:{value:t.form_1.lastname,callback:function(e){t.$set(t.form_1,"lastname",e)},expression:"form_1.lastname"}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"Birthday"}},[i("el-input",{model:{value:t.form_1.birthday,callback:function(e){t.$set(t.form_1,"birthday",e)},expression:"form_1.birthday"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Phone"}},[i("el-input",{model:{value:t.form_1.phone,callback:function(e){t.$set(t.form_1,"phone",e)},expression:"form_1.phone"}})],1)],1)],1):t._e(),t._v(" "),2===t.activeStep?i("div",{staticClass:"form_1"},[i("el-form",{attrs:{"label-position":"top","label-width":"100px",model:t.form_2}},[i("el-form-item",{attrs:{label:"Coutry"}},[i("el-input",{model:{value:t.form_2.country,callback:function(e){t.$set(t.form_2,"country",e)},expression:"form_2.country"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"City"}},[i("el-input",{model:{value:t.form_2.city,callback:function(e){t.$set(t.form_2,"city",e)},expression:"form_2.city"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Street"}},[i("el-input",{model:{value:t.form_2.street,callback:function(e){t.$set(t.form_2,"street",e)},expression:"form_2.street"}})],1),t._v(" "),i("el-row",{attrs:{type:"flex"}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"Home"}},[i("el-input",{model:{value:t.form_2.street,callback:function(e){t.$set(t.form_2,"street",e)},expression:"form_2.street"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"Post code"}},[i("el-input",{model:{value:t.form_2.post,callback:function(e){t.$set(t.form_2,"post",e)},expression:"form_2.post"}})],1)],1)],1)],1)],1):t._e(),t._v(" "),3===t.activeStep?i("div",{staticClass:"form_3"},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{staticClass:"mt-5",attrs:{span:16}},[i("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur cumque cupiditate dignissimos dolore esse est exercitationem, expedita, labore magnam minima minus molestias nam nobis nostrum officia placeat quisquam ratione sit.")])])],1),t._v(" "),i("el-checkbox",[t._v("I agree")])],1):t._e(),t._v(" "),4===t.activeStep?i("div",{staticClass:"form_4"},[i("div",{staticClass:"buy_button"},[i("PayPal",{attrs:{env:"sandbox",locale:"en_US",currency:"RUB",items:this.orderItems,amount:this.amount,client:t.credentials,buttonStyle:t.btnStyle,"notify-url":"https://us-central1-e-store-dev.cloudfunctions.net/processPayPal"}})],1)]):t._e()]),t._v(" "),1!==t.activeStep?i("el-button",{on:{click:t.prevStep}},[t._v("Prev step")]):t._e(),t._v(" "),i("el-button",{on:{click:t.nextStep}},[t._v("Next step")])],2):t._e()],1)},staticRenderFns:[]};var y=i("VU/8")(g,b,!1,function(t){i("K7q7")},"data-v-deb4ffaa",null).exports,x={name:"ShoppingCart",components:{PayPal:_.a,Buy:y},data:function(){return{cartProduct:""}},computed:{userCart:function(){return this.$store.getters.cart},totalPrice:function(){var t=0,e=this.userCart;for(var i in e)t+=e[i].qty*e[i].price;return t},totalItems:function(){var t=[],e=this.userCart;for(var i in e){var r={};r.name=e[i].title,r.price=e[i].price,r.quantity=e[i].qty,r.currency=e[i].currency,r.description=e[i].cartId+",",t.push(r)}return t}},methods:{removeFromCart:function(t){this.$store.dispatch("removeFromCart",t)}}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[this.isLoading?i("v-container",[i("app-loader")],1):i("el-row",{attrs:{"el-row":"",type:"flex",justify:"center"}},[i("el-col",{attrs:{xs:24,sm:20,md:16,lg:14,xl:8,type:"flex",align:"middle"}},[t.userCart?i("el-card",[i("p",{staticClass:"mb-3",staticStyle:{"font-size":"18px"}},[0===t.userCart.length?i("span",[t._v("Your cart is empty")]):i("span",[t._v("My shopping cart")])]),t._v(" "),i("i",{staticClass:"el-icon-goods mb-3",staticStyle:{transform:"scale(2)"}}),t._v(" "),i("p",[i("router-link",{attrs:{to:"/shop"}},[0===t.userCart.length?i("el-button",{attrs:{type:"text"}},[t._v("Go to shop")]):t._e()],1)],1),t._v(" "),t._l(t.userCart,function(e){return i("el-row",{key:e.cartId,staticClass:"mb-3",staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12,align:"left"}},[i("router-link",{attrs:{to:"/product/"+e.productId}},[i("h3",[t._v(t._s(e.title))])]),t._v(" "),i("i",{staticClass:"mb-0"},[t._v("Parameters:")]),t._v(" "),i("p",{staticClass:"mb-0"},[t._v("Color: "+t._s(e.color))]),t._v(" "),i("p",{staticClass:"mb-0"},[t._v("Size: "+t._s(e.size))])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12,align:"right"}},[i("p",[t._v(t._s(parseFloat(e.qty*e.price).toFixed(2))+" "+t._s(e.currency))]),t._v(" "),i("el-input-number",{attrs:{size:"small",min:0,max:1e3},model:{value:e.qty,callback:function(i){t.$set(e,"qty",i)},expression:"product.qty"}}),t._v(" "),i("el-button",{attrs:{type:"secondary",size:"small"},on:{click:function(i){t.removeFromCart(e.cartId)}}},[i("i",{staticClass:"el-icon-delete"})]),t._v(" "),i("buy",{attrs:{"btn-name":"Buy",currency:"RUB",amount:parseFloat(e.price*e.qty).toFixed(2),"order-items":[{name:e.title.substring(0,124),quantity:e.qty,price:parseFloat(e.price).toFixed(2),currency:"RUB",description:e.cartId}]}})],1)],1)}),t._v(" "),t.userCart.length>1?i("div",[i("v-divider"),t._v(" "),i("p",{staticClass:"pt-3"},[t._v("Total price: "+t._s(parseFloat(t.totalPrice).toFixed(2))+" RUB ")]),t._v(" "),i("div",{staticClass:"paypal_total_btn"},[i("buy",{attrs:{"btn-name":"Buy all",currency:"RUB",amount:parseFloat(t.totalPrice).toFixed(2),"order-items":t.totalItems}})],1)],1):t._e()],2):t._e()],1)],1)],1)},staticRenderFns:[]};var C=i("VU/8")(x,w,!1,function(t){i("+Ee1")},"data-v-03064b29",null).exports,k={name:"signin",data:function(){var t=this;return{formRule:{password:"",checkPass:"",email:""},rules:{password:[{validator:function(e,i,r){""===i?r(new Error("Please input the password")):(""!==t.formRule.checkPass&&t.$refs.formRule.validateField("checkPass"),r())},trigger:"blur"}],email:[{validator:function(e,i,r){if(!i)return r(new Error("Please input the Email"));setTimeout(function(){t.isValidEmail(i)?r():r(new Error("Email is not valid"))},1e3)},trigger:"blur"}]},submitCount:0}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/account")}},methods:{submitForm:function(t){var e=this;this.submitCount++,this.$refs[t].validate(function(t){if(!t)return e.$store.dispatch("ERR",{message:"Please, fill in the fields correctly"});e.$store.dispatch("signUserIn",{email:e.formRule.email,password:e.formRule.password})})},isValidEmail:function(t){return/^\S+@\S+\.\S+$/.test(t)},resetPassword:function(){var t=document.getElementById("email").value;this.$store.dispatch("resetPassword",t)}}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[this.isLoading?i("v-container",[i("app-loader")],1):t._e(),t._v(" "),this.isLoading?t._e():i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{xs:24,sm:14,md:12,lg:10,xl:8}},[t.error?i("app-alert",{attrs:{text:t.error.message}}):t._e(),t._v(" "),i("el-card",[i("h2",[t._v("Sign in")]),t._v(" "),i("v-container",[i("el-form",{ref:"formRule",attrs:{model:t.formRule,"status-icon":"",rules:t.rules,"auto-complete":"on"}},[i("el-form-item",{attrs:{label:"Email",prop:"email"}},[i("el-input",{attrs:{type:"email",id:"email",autofocus:!0,"auto-complete":"on"},model:{value:t.formRule.email,callback:function(e){t.$set(t.formRule,"email",e)},expression:"formRule.email"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Password",prop:"password"}},[i("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.formRule.password,callback:function(e){t.$set(t.formRule,"password",e)},expression:"formRule.password"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",disabled:this.isLoading},on:{click:function(e){t.submitForm("formRule")}}},[t._v(" Sign In\n              ")])],1),t._v(" "),t.submitCount>2?i("div",[i("span",{staticClass:"primary--text ml-3"},[t._v("Forgot password?")]),t._v(" "),i("p",[t._v("Enter your email in the above field and click:")]),t._v(" "),i("el-button",{attrs:{type:"success"},on:{click:t.resetPassword}},[t._v("Reset password")])],1):t._e(),t._v(" "),i("router-link",{attrs:{to:"/signup"}},[i("el-button",{attrs:{type:"text"}},[t._v("Do not have an account?")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var P=i("VU/8")(k,A,!1,function(t){i("rTiw")},"data-v-3ee7e8a0",null).exports,I={name:"signin",data:function(){var t=this;return{formRule:{password:"",checkPass:"",email:""},rules:{password:[{validator:function(e,i,r){""===i?r(new Error("Please input the password")):i.length<6?r(new Error("Password should be at least 6 characters")):(""!==t.formRule.checkPass&&t.$refs.formRule.validateField("checkPass"),r())},trigger:"blur"}],checkPass:[{validator:function(e,i,r){""===i?r(new Error("Please input the password again")):i!==t.formRule.password?r(new Error("Two inputs don't match!")):r()},trigger:"blur"}],email:[{validator:function(e,i,r){if(!i)return r(new Error("Please input the Email"));setTimeout(function(){t.isValidEmail(i)?r():r(new Error("Email is not valid"))},1e3)},trigger:"blur"}]}}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error},loading:function(){return this.$store.getters.loading}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/account")}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$store.dispatch("ERR",{message:"Please, fill in the fields correctly"});e.$store.dispatch("signUserUp",{email:e.formRule.email,password:e.formRule.password})})},isValidEmail:function(t){return/^\S+@\S+\.\S+$/.test(t)}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{xs:24,sm:14,md:12,lg:10,xl:8}},[t.error?i("app-alert",{attrs:{text:t.error.message}}):t._e(),t._v(" "),i("el-card",[i("h2",[t._v("Sign up")]),t._v(" "),i("v-container",[i("el-form",{ref:"formRule",attrs:{model:t.formRule,"status-icon":"",rules:t.rules,"auto-complete":"on"}},[i("el-form-item",{attrs:{label:"Email",prop:"email"}},[i("el-input",{attrs:{type:"email",autofocus:!0,"auto-complete":"on"},model:{value:t.formRule.email,callback:function(e){t.$set(t.formRule,"email",e)},expression:"formRule.email"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Password",prop:"password"}},[i("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.formRule.password,callback:function(e){t.$set(t.formRule,"password",e)},expression:"formRule.password"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Confirm",prop:"checkPass"}},[i("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.formRule.checkPass,callback:function(e){t.$set(t.formRule,"checkPass",e)},expression:"formRule.checkPass"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){t.submitForm("formRule")}}},[t._v("Sign up")])],1)],1),t._v(" "),i("router-link",{attrs:{to:"/signin"}},[i("el-button",{attrs:{type:"text"}},[t._v("Have an account?")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var R=i("VU/8")(I,$,!1,function(t){i("rWA+")},"data-v-35d63364",null).exports,F={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[this.isLoading?r("v-container",[r("app-loader")],1):r("div",[t.isVerifiedEmail?r("div",[r("div"),t._v(" "),r("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"center"}},[r("el-col",{staticClass:"ml-1 mr-1 mb-2",attrs:{xs:24,sm:6,md:5,lg:4,xl:3}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{attrs:{src:i("2Paj"),height:"200px"}}),t._v(" "),r("div",{staticStyle:{padding:"14px"}},[r("span",[t._v("Smelaya Panda")]),t._v(" "),r("div",{staticClass:"bottom clearfix"},[r("el-button",{staticClass:"button",attrs:{type:"text"}},[t._v("Operating button")])],1)])]),t._v(" "),r("el-card",{staticClass:"mt-2",attrs:{"body-style":{padding:"0px"}}},[r("div",{staticStyle:{padding:"14px"}},[t._v("\n              Novosibisk, Akademgorodok\n              "),r("span",[t._v("Sirenevaya 31")])])]),t._v(" "),r("el-card",{staticClass:"mt-2",attrs:{"body-style":{padding:"0px"}}},[r("div",{staticStyle:{padding:"14px"}},[t._v("\n              8 999 467 78 57\n            ")])])],1),t._v(" "),r("el-col",{staticClass:"ml-1 mr-1",attrs:{xs:24,sm:17,md:13,lg:11,xl:9}},[r("el-card",[r("h2",{staticClass:"mb-2"},[t._v("My orders history")]),t._v(" "),t._l(t.userOrders,function(e,i){return r("el-collapse",{key:i,attrs:{accordion:""}},[r("el-collapse-item",{attrs:{name:"1"}},[r("template",{slot:"title"},[r("span",[t._v(t._s(e.item_name1))]),t._v(" "),e.item_name2?r("span",[t._v(", "+t._s(e.item_name2))]):t._e(),t._v(" "),e.item_name3?r("span",[t._v(", "+t._s(e.item_name3))]):t._e(),t._v(" "),e.item_name4?r("span",[t._v(", "+t._s(e.item_name4))]):t._e(),t._v(" "),e.item_name5?r("span",[t._v(", "+t._s(e.item_name5))]):t._e(),t._v(" "),e.item_name6?r("span",[t._v(", "+t._s(e.item_name6))]):t._e(),t._v(" "),e.item_name7?r("span",[t._v(", "+t._s(e.item_name7))]):t._e(),t._v(" "),e.item_name8?r("span",[t._v(", "+t._s(e.item_name8))]):t._e(),t._v(" "),e.item_name9?r("span",[t._v(", "+t._s(e.item_name9))]):t._e(),t._v(" "),e.item_name10?r("span",[t._v(", "+t._s(e.item_name10))]):t._e(),t._v(" "),r("i",{staticClass:"header-icon el-icon-info"})]),t._v(" "),t._l(e,function(e,i){return r("div",{key:e.tnx_id},[t._v("\n                  "+t._s(i)+":  "),r("span",{staticClass:"primary--text"},[t._v(t._s(e))])])})],2)],1)})],2)],1)],1)],1):this.isAnonymousUser?t._e():r("div",[r("h3",[r("i",{staticClass:"el-icon-info"}),t._v("\n        Confirm your email address to continue\n      ")]),t._v(" "),r("p",[t._v("Email with verification link sent to address: "),r("br"),r("span",[t._v(t._s(t.userEmail))])])]),t._v(" "),this.isAnonymousUser?r("div",[r("h2",{staticClass:"mb-2"},[t._v("You are sign in as anonymous user.")]),t._v(" "),r("p",[t._v('Section "Account" is accessible only for\n        '),r("router-link",{attrs:{to:"/signup"}},[r("span",{staticClass:"primary--text"},[t._v("\n            registered users!\n          ")])])],1),t._v(" "),r("p",{staticClass:"error--text"},[t._v("* Attention, your items in shopping cart may be lost if you click logout!")])]):t._e()])],1)},staticRenderFns:[]};var S=i("VU/8")({name:"Account",data:function(){return{}},components:{},computed:{isVerifiedEmail:function(){if(this.$store.getters.user)return this.$store.getters.user.emailVerified},userEmail:function(){return this.$store.getters.user.email},userOrders:function(){return this.$store.getters.orders}}},F,!1,function(t){i("edra")},"data-v-46f40cf7",null).exports,D=i("NYxO"),V=i("zL8q"),E=i.n(V),L={state:{user:null,isAdmin:!1},mutations:{setUser:function(t,e){t.user=e},setAdmin:function(t,e){t.isAdmin=e}},actions:{signUserUp:function(t,e){var i=t.commit;i("CLEAR_ERR"),i("LOADING",!0),u.auth().createUserAndRetrieveDataWithEmailAndPassword(e.email,e.password).then(function(t){i("setUser",t),i("LOADING",!1),u.auth().currentUser.sendEmailVerification().then(function(){Object(V.Notification)({title:"Congratulations",message:"The account was created!",type:"success",showClose:!0,duration:1e4,offset:50})})}).catch(function(t){i("LOADING",!1),i("ERR",t),console.log(t)})},signUserIn:function(t,e){var i=t.commit;u.auth().currentUser&&u.auth().signOut(),i("CLEAR_ERR"),i("LOADING",!0),u.auth().signInAndRetrieveDataWithEmailAndPassword(e.email,e.password).then(function(t){console.log("Successful Login"),i("setUser",t),i("LOADING",!1)}).catch(function(t){console.log(t),i("ERR",t),i("LOADING",!1)});var r=u.auth().currentUser;null!=r&&r.providerData.forEach(function(t){"smelayapandagm@gmail.com"===t.email?i("setAdmin",!0):i("setAdmin",!1)})},signInAnonymously:function(t){var e=t.commit;u.auth().signInAnonymouslyAndRetrieveData().then(function(t){e("setUser",t)}).catch(function(t){console.log(t)})},autoSignIn:function(t,e){var i=t.commit;i("CLEAR_ERR"),i("setUser",e);null!=e&&e.providerData.forEach(function(t){"smelayapandagm@gmail.com"===t.email?i("setAdmin",!0):i("setAdmin",!1)})},resetPassword:function(t,e){(0,t.commit)("CLEAR_ERR"),u.auth().sendPasswordResetEmail(e).then(function(){Object(V.Notification)({title:"Info",message:"Reset password form sent to your email: "+e+"!",type:"info",showClose:!0,duration:2e4,offset:50})}).catch(function(t){var e=t.code,i=t.message;"auth/invalid-email"===e?Object(V.Message)({type:"error",showClose:!0,message:i,duration:1e4}):"auth/user-not-found"===e&&Object(V.Message)({type:"error",showClose:!0,message:i,duration:1e4}),console.log(t)})},logout:function(t){var e=t.commit;u.auth().signOut().then(function(){e("setUser",""),It.push("/"),window.location.reload()}).catch(function(t){console.log(t)})}},getters:{user:function(t){return t.user},isAdmin:function(t){return t.isAdmin}}},O=i("gRE1"),N=i.n(O),U=i("bOdI"),G=i.n(U),B={state:{cart:[]},mutations:{setCart:function(t,e){t.cart=e}},actions:{addToCart:function(t,e){var i=t.commit,r=t.getters;i("LOADING",!0);var o=r.user,a=r.cart;if(o){var s=void 0;u.database().ref("users/"+o.uid+"/carts").push(e).then(function(t){return s=t.key,e.cartId=s,u.database().ref("users/"+o.uid+"/carts").child(s).update({cartId:s})}).then(function(){return u.database().ref("cart_user").update(G()({},s,o.uid))}).then(function(){a.push(e),i("setCart",a),i("LOADING",!1)}).catch(function(t){console.log(t),i("LOADING",!1)})}else i("LOADING",!1)},removeFromCart:function(t,e){var i=t.commit,r=t.getters;i("LOADING",!0);var o=r.user;o?u.database().ref("users/"+o.uid+"/carts").child(e).remove().then(function(){return u.database().ref("cart_user").child(e).remove()}).then(function(){var t=r.cart,o=t.findIndex(function(t){return t.cartId===e});t.splice(o,1),i("setCart",t),i("LOADING",!1)}).catch(function(t){console.log(t),i("LOADING",!1)}):i("LOADING",!1)},fetchUserCart:function(t){var e=t.commit,i=t.getters;e("LOADING",!0);var r=i.user;r?u.database().ref("users/"+r.uid+"/carts").once("value").then(function(t){console.log("Cart data fetched"),t.val()&&e("setCart",N()(t.val())),e("LOADING",!1)}).catch(function(t){console.log(t),e("LOADING",!1)}):e("LOADING",!1)}},getters:{cart:function(t){return t.cart.filter(function(t){return!0!==t.isPayed})}}},z=i("//Fk"),q=i.n(z),T=(i("3VHS"),{state:{products:[],lastVisibleId:"",isAllLoaded:!1},mutations:{setProducts:function(t,e){t.products=e},setLastVisible:function(t,e){t.lastVisibleId=e},isAllLoaded:function(t,e){t.isAllLoaded=e}},actions:{fetchProducts:function(t,e){var i=t.commit,r=t.getters,o=u.firestore().collection("products");e.maxPrice&&(o=o.where("price",">=",e.minPrice).where("price","<=",e.maxPrice)),e.group&&(o=o.where("group","==",e.group)),e.category&&(o=o.where("category","==",e.category)),e.brand&&(o=o.where("brand","==",e.brand)),e.color&&(o=o.where("color","==",e.color)),o=o.orderBy("price",e.sortAsc?"asc":"desc"),r.lastVisibleId&&(o=o.startAfter(r.lastVisibleId)),o.limit(9).get().then(function(t){var o=e.loadMore?r.products:[];if(!r.isAllLoaded){t.size<9&&i("isAllLoaded",!0),t.forEach(function(t){o.push(t.data())});var a=t.docs[t.docs.length-1];i("setLastVisible",a)}i("setProducts",o)}).catch(function(t){console.log(t)})},resetLastVisible:function(t){var e=t.commit;e("isAllLoaded",!1),e("setLastVisible",null)},addNewProduct:function(t,e){var i=t.commit;t.getters;i("LOADING",!0);var r=void 0;u.firestore().collection("products").add(e).then(function(t){var e={productId:r=t.id,img_0:{original:"",thumbnail:"",card:""},img_1:{original:"",thumbnail:"",card:""},img_2:{original:"",thumbnail:"",card:""},img_3:{original:"",thumbnail:"",card:""},img_4:{original:"",thumbnail:"",card:""}};return u.firestore().collection("products").doc(r).update(e)}).then(function(){i("LOADING",!1),window.location.reload()}).catch(function(t){console.log(t),i("LOADING",!1)})},editProduct:function(t,e){var i=t.commit;t.getters;i("LOADING",!0),u.firestore().collection("products").doc(e.productId).update(e).then(function(){console.log("Product edited"),i("LOADING",!1)}).catch(function(t){console.log(t),i("LOADING",!1)})},editProductImage:function(t,e){var i=t.commit;t.getters;i("LOADING",!0);var r=e.images;delete e.images;var o,a,s=[];for(var n in r)s.push((o=n,a=r[n],u.storage().ref("products/"+e.productId+"/"+o).put(a)));return console.log(s),q.a.all(s).then(function(){i("LOADING",!1),window.location.reload()}).catch(function(t){console.log(t),i("LOADING",!1)})},deleteProduct:function(t,e){var i=t.commit,r=t.getters;i("LOADING",!0),u.firestore().collection("products").doc(e).delete().then(function(){for(var t=r.productById(e),i=[],o=0;o<5;o++)""!==t["img_"+o].original&&(i.push("img_"+o),i.push("card_img_"+o),i.push("thumb_img_"+o));var a=i.map(function(t){return u.storage().ref("products/"+e+"/"+t).delete()});return q.a.all(a)}).then(function(){console.log("Product was removed"),i("LOADING",!1),window.location.reload()}).catch(function(t){console.log(t),i("LOADING",!1)})}},getters:{products:function(t){return t.products},lastVisibleId:function(t){return t.lastVisibleId},isAllLoaded:function(t){return t.isAllLoaded},productById:function(t){return function(e){return t.products.find(function(t){return t.productId===e})}}}}),j={state:{orders:[],allOrders:[]},mutations:{setOrders:function(t,e){t.orders=e},setAllOrders:function(t,e){t.allOrders=e}},actions:{fetchUserOrders:function(t){var e=t.commit,i=t.getters;e("LOADING",!0);var r=i.user;r?u.database().ref("users/"+r.uid+"/orders").once("value").then(function(t){console.log("Orders data fetched"),t.val()&&e("setOrders",N()(t.val())),e("LOADING",!1)}).catch(function(t){console.log(t),e("LOADING",!1)}):e("LOADING",!1)},fetchAllOrders:function(t){var e=t.commit;t.getters;e("LOADING",!0),u.database().ref("users").once("value").then(function(t){var i=t.val(),r=[];for(var o in i)if(i.hasOwnProperty(o)&&i[o].orders){var a=N()(i[o].orders);for(var s in a)r.push(a[s])}console.log("All Orders data fetched"),e("setAllOrders",r),e("LOADING",!1)}).catch(function(t){console.log(t),e("LOADING",!1)})}},getters:{orders:function(t){return t.orders},allOrders:function(t){return t.allOrders}}},W={state:{brands:[],colors:[]},mutations:{setBrands:function(t,e){t.brands=e},setColors:function(t,e){t.colors=e}},actions:{fetchDictionaries:function(t){var e=t.commit;e("LOADING",!0),u.firestore().collection("dictionaries").get().then(function(t){t.docs.forEach(function(t){"brands"===t.id&&e("setBrands",t.data().all),"colors"===t.id&&e("setColors",t.data().all)}),console.log("All dictionaries fetched"),e("LOADING",!1)}).catch(function(t){console.log(t),e("LOADING",!1)})},uploadDictionary:function(t,e){var i=t.commit,r=(t.getters,e.name);delete e.dictionary,i("LOADING",!0),u.firestore().collection("dictionaries").doc(r).set({all:e.data}).then(function(){console.log("Dictionary updated"),i("setBrands",e.data),i("LOADING",!1)}).catch(function(t){console.log(t),i("LOADING",!1)})}},getters:{brands:function(t){return t.brands},colors:function(t){return t.colors}}};r.default.use(D.a);var H=new D.a.Store({modules:{user:L,shared:{state:{loading:!1,error:null},mutations:{LOADING:function(t,e){t.loading=e},ERR:function(t,e){t.error=e},CLEAR_ERR:function(t){t.error=null}},actions:{CLEAR_ERR:function(t){(0,t.commit)("CLEAR_ERR")},ERR:function(t,e){(0,t.commit)("ERR",e)},LOADING:function(t,e){(0,t.commit)("LOADING",e)}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},cart:B,products:T,orders:j,dictionaries:W}}),M={name:"AddProduct",props:["group","category"],data:function(){return{dialogFormVisible:!1,product:{group:"Group A",category:"Category A1",title:"",description:"",vendorCode:"",brand:"",currency:"RUB",price:100,qty:10,color:"green",date:new Date},formLabelWidth:"120px"}},methods:{addNewProduct:function(){var t={group:this.group,category:this.category,title:this.product.title,description:this.product.description,vendorCode:this.product.vendorCode,brand:this.product.brand,price:parseFloat(this.product.price).toFixed(2),currency:this.product.currency,qty:this.product.qty,color:this.product.color,creationDate:new Date};this.dialogFormVisible=!1,this.$store.dispatch("addNewProduct",t)}},computed:{isValidForm:function(){return""!==this.product.title&&""!==this.product.description&&""!==this.product.color&&""!==this.product.vendorCode&&""!==this.product.brand},brands:function(){return this.$store.getters.brands},colors:function(){return this.$store.getters.colors}}},J={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-btn",{staticClass:"primary",on:{click:function(e){t.dialogFormVisible=!0}}},[i("v-icon",{staticClass:"white--text"},[t._v("add")])],1),t._v(" "),i("el-dialog",{attrs:{title:"New product in: "+t.group+" / "+t.category,visible:t.dialogFormVisible,width:"100%",fullscreen:!0},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:20}},[i("el-form",{attrs:{model:t.product}},[i("el-form-item",{attrs:{label:"Title","label-width":t.formLabelWidth}},[i("el-input",{attrs:{placeholder:"(max 100 symbols)",maxlength:100},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title",e)},expression:"product.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Description","label-width":t.formLabelWidth}},[i("el-input",{attrs:{type:"textarea",placeholder:"(max 400 symbols)",autosize:{minRows:3,maxRows:7},maxlength:400},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Vendor Code","label-width":t.formLabelWidth}},[i("el-input",{attrs:{placeholder:"(max 20 symbols)",maxlength:20},model:{value:t.product.vendorCode,callback:function(e){t.$set(t.product,"vendorCode",e)},expression:"product.vendorCode"}})],1),t._v(" "),i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[i("el-form-item",{attrs:{label:"Brand","label-width":t.formLabelWidth}},[t.brands?i("el-select",{attrs:{filterable:"",placeholder:"Brand"},model:{value:t.product.brand,callback:function(e){t.$set(t.product,"brand",e)},expression:"product.brand"}},t._l(t.brands,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"Color","label-width":t.formLabelWidth}},[t.colors?i("el-select",{attrs:{filterable:"",placeholder:"Color"},model:{value:t.product.color,callback:function(e){t.$set(t.product,"color",e)},expression:"product.color"}},t._l(t.colors,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})):t._e()],1)],1),t._v(" "),i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[i("el-form-item",{attrs:{label:"Price","label-width":t.formLabelWidth}},[i("el-input-number",{attrs:{min:1,max:1e6},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Currency","label-width":t.formLabelWidth}},[i("el-select",{attrs:{placeholder:"Select a currency"},model:{value:t.product.currency,callback:function(e){t.$set(t.product,"currency",e)},expression:"product.currency"}},[i("el-option",{attrs:{label:"RUB",value:"RUB"}}),t._v(" "),i("el-option",{attrs:{label:"USD",value:"USD",disabled:""}}),t._v(" "),i("el-option",{attrs:{label:"EUR",value:"EUR",disabled:""}}),t._v(" "),i("el-option",{attrs:{label:"GBP",value:"GBP",disabled:""}})],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[i("el-form-item",{attrs:{label:"Quantity","label-width":t.formLabelWidth}},[i("el-input-number",{attrs:{min:0,max:1e6},model:{value:t.product.qty,callback:function(e){t.$set(t.product,"qty",e)},expression:"product.qty"}})],1)],1)],1),t._v(" "),i("el-button",{attrs:{type:"primary",disabled:!t.isValidForm},on:{click:t.addNewProduct}},[t._v("Create")]),t._v(" "),i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},Z=i("VU/8")(M,J,!1,null,null,null).exports,Y={name:"EditProduct",props:["editProduct"],data:function(){return{product:this.editProduct,dialogFormVisible:!1,formLabelWidth:"120px"}},methods:{edit:function(){var t={productId:this.editProduct.productId,title:this.product.title,description:this.product.description,vendorCode:this.product.vendorCode,brand:this.product.brand,price:parseFloat(this.product.price),currency:this.product.currency,qty:this.product.qty,color:this.product.color,editDate:new Date};this.dialogFormVisible=!1,this.$store.dispatch("editProduct",t)},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this,i=t.target.files;if(i[0].name.indexOf(".")<=0)return alert("Please, pick a valid file");var r=new FileReader;r.addEventListener("load",function(){e.imageUrl=r.result}),r.readAsDataURL(i[0]),this.image=i[0]}},computed:{isValidForm:function(){return""!==this.product.title&&""!==this.product.description&&""!==this.product.color&&""!==this.product.vendorCode&&""!==this.product.brand},brands:function(){return this.$store.getters.brands},colors:function(){return this.$store.getters.colors}}},Q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogFormVisible=!0}}},[i("i",{staticClass:"el-icon-edit"})]),t._v(" "),i("el-dialog",{attrs:{title:"Edit product info",visible:t.dialogFormVisible,width:"100%",fullscreen:!0,center:""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:20}},[i("el-form",{attrs:{model:t.product}},[i("el-form-item",{attrs:{label:"Title","label-width":t.formLabelWidth}},[i("el-input",{attrs:{placeholder:"Product title (max 100 symbols)",maxlength:100},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title",e)},expression:"product.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Description","label-width":t.formLabelWidth}},[i("el-input",{attrs:{type:"textarea",placeholder:"Product description (max 400 symbols)",autosize:{minRows:3,maxRows:7},maxlength:400},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Vendor Code","label-width":t.formLabelWidth}},[i("el-input",{attrs:{placeholder:"(max 20 symbols)",maxlength:20},model:{value:t.product.vendorCode,callback:function(e){t.$set(t.product,"vendorCode",e)},expression:"product.vendorCode"}})],1),t._v(" "),i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[i("el-form-item",{attrs:{label:"Brand","label-width":t.formLabelWidth}},[t.brands?i("el-select",{attrs:{filterable:"",placeholder:"Brand"},model:{value:t.product.brand,callback:function(e){t.$set(t.product,"brand",e)},expression:"product.brand"}},t._l(t.brands,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"Color","label-width":t.formLabelWidth}},[t.colors?i("el-select",{attrs:{filterable:"",placeholder:"Color"},model:{value:t.product.color,callback:function(e){t.$set(t.product,"color",e)},expression:"product.color"}},t._l(t.colors,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})):t._e()],1)],1),t._v(" "),i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[i("el-form-item",{attrs:{label:"Price","label-width":t.formLabelWidth}},[i("el-input-number",{attrs:{min:1,max:1e6},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Currency","label-width":t.formLabelWidth}},[i("el-select",{attrs:{placeholder:"Select a currency"},model:{value:t.product.currency,callback:function(e){t.$set(t.product,"currency",e)},expression:"product.currency"}},[i("el-option",{attrs:{label:"RUB",value:"RUB"}}),t._v(" "),i("el-option",{attrs:{label:"USD",value:"USD",disabled:""}}),t._v(" "),i("el-option",{attrs:{label:"EUR",value:"EUR",disabled:""}}),t._v(" "),i("el-option",{attrs:{label:"GBP",value:"GBP",disabled:""}})],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[i("el-form-item",{attrs:{label:"Quantity","label-width":t.formLabelWidth}},[i("el-input-number",{attrs:{min:0,max:1e6},model:{value:t.product.qty,callback:function(e){t.$set(t.product,"qty",e)},expression:"product.qty"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-button",{attrs:{type:"primary",disabled:!t.isValidForm},on:{click:t.edit}},[t._v("Edit")]),t._v(" "),i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var X=i("VU/8")(Y,Q,!1,function(t){i("iE6y")},"data-v-5f9f03e6",null).exports,K={name:"AddProductImage",props:["imgName","imgBtnName","curImg"],data:function(){return{imageUrl:"",image:null}},methods:{onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this,i=t.target.files;if(i[0].name.indexOf(".")<=0)return alert("File name without extension!");if(i[0].size>15e5)return alert("File size must be less than 1.5 MB!");var r=new FileReader;r.addEventListener("load",function(){e.imageUrl=r.result}),r.readAsDataURL(i[0]),this.image=i[0],this.$emit("fileUploaded",{imgName:this.imgName,image:this.image})}}},tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{margin:"10px"}},[i("el-row",{staticClass:"mb-2",attrs:{type:"flex",justify:"center",align:"middle"}},[i("el-button",{on:{click:t.onPickFile}},[i("p",[t._v("\n        "+t._s(this.imgBtnName)+"\n      ")]),t._v(" "),i("i",{staticClass:"el-icon-picture-outline ml-2",staticStyle:{transform:"scale(1.7)"}})])],1),t._v(" "),i("el-row",{staticStyle:{"text-align":"center"}},[i("img",{staticStyle:{"border-radius":"20px"},attrs:{src:t.curImg,height:"40px",width:"auto"}}),t._v(" "),t.curImg?t._e():i("p",[i("i",{staticClass:"el-icon-download"})])]),t._v(" "),i("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}}),t._v(" "),i("el-row",[i("img",{attrs:{src:t.imageUrl,width:150}})])],1)},staticRenderFns:[]},et={name:"EditProductImage",components:{UploadProductImage:i("VU/8")(K,tt,!1,null,null,null).exports},props:["editProduct"],data:function(){return{dialogFormVisible:!1,images:{},imageUrl:""}},methods:{loadFileData:function(t){this.images[t.imgName]=t.image},edit:function(){var t={productId:this.editProduct.productId,images:this.images};this.dialogFormVisible=!1,this.$store.dispatch("editProductImage",t)}},computed:{isValidForm:function(){return!0}}},it={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogFormVisible=!0}}},[i("i",{staticClass:"el-icon-picture-outline"})]),t._v(" "),i("el-dialog",{attrs:{title:"Product images",visible:t.dialogFormVisible,width:"100%",fullscreen:!0,center:""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-row",{staticClass:"mb-3",staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"center"}},[i("upload-product-image",{attrs:{"img-name":"img_0","img-btn-name":"Main Image","cur-img":t.editProduct.img_0.thumbnail},on:{fileUploaded:t.loadFileData}}),t._v(" "),i("upload-product-image",{attrs:{"img-name":"img_1","img-btn-name":"Add Image 1","cur-img":t.editProduct.img_1.thumbnail},on:{fileUploaded:t.loadFileData}}),t._v(" "),i("upload-product-image",{attrs:{"img-name":"img_2","img-btn-name":"Add Image 2","cur-img":t.editProduct.img_2.thumbnail},on:{fileUploaded:t.loadFileData}}),t._v(" "),i("upload-product-image",{attrs:{"img-name":"img_3","img-btn-name":"Add Image 3","cur-img":t.editProduct.img_3.thumbnail},on:{fileUploaded:t.loadFileData}}),t._v(" "),i("upload-product-image",{attrs:{"img-name":"img_4","img-btn-name":"Add Image 4","cur-img":t.editProduct.img_4.thumbnail},on:{fileUploaded:t.loadFileData}})],1),t._v(" "),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-button",{attrs:{type:"primary",disabled:!t.isValidForm},on:{click:t.edit}},[t._v("Ok")]),t._v(" "),i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Cancel")])],1)],1)],1)},staticRenderFns:[]};var rt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{staticStyle:{"margin-left":"2px"},attrs:{size:"mini",type:"info"},on:{click:function(e){t.centerDialogVisible=!0}}},[i("i",{staticClass:"el-icon-delete"})]),t._v(" "),i("el-dialog",{attrs:{title:"Remove product!",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("p",[t._v("You want to remove this product:")]),t._v(" "),i("p",[i("b",[t._v(t._s(this.title))])]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:t.deleteProduct}},[t._v("Confirm")])],1)])],1)},staticRenderFns:[]},ot={components:{EditProductImage:i("VU/8")(et,it,!1,function(t){i("wAGp")},"data-v-433d97f6",null).exports,EditProduct:X,AddProduct:Z,DeleteProduct:i("VU/8")({name:"DeleteProduct",props:["id","title"],data:function(){return{centerDialogVisible:!1}},methods:{deleteProduct:function(){this.$store.dispatch("deleteProduct",this.id),this.centerDialogVisible=!1}}},rt,!1,null,null,null).exports},name:"AdminProducts",data:function(){return{productOption:["Group A","Category A1"],options:[{value:"Group A",label:"Group A",children:[{value:"Category A1",label:"Category A1"},{value:"Category A2",label:"Category A2"},{value:"Category A3",label:"Category A3"}]},{value:"Group B",label:"Group B",children:[{value:"Category B",label:"Category B"}]},{value:"Group C",label:"Group C",children:[{value:"Category C",label:"Category C"}]},{value:"Group D",label:"Group D",children:[{value:"Category D",label:"Category D"}]}]}},methods:{loadCategoryProducts:function(){this.$store.dispatch("resetLastVisible"),this.$store.dispatch("fetchProducts",{category:this.productOption[1],sortAsc:!0})}},computed:{products:function(){var t=[],e=this.$store.getters.products;for(var i in e){var r=e[i];r.id=i,t.push(r)}return t}}},at={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.products?i("div",[this.isLoading?i("v-container",[i("app-loader")],1):i("div",[i("el-row",{staticClass:"mb-4",attrs:{type:"flex",justify:"start",align:"middle"}},[i("el-cascader",{attrs:{options:t.options,filterable:"",placeholder:"Select category"},on:{change:t.loadCategoryProducts},model:{value:t.productOption,callback:function(e){t.productOption=e},expression:"productOption"}}),t._v(" "),i("el-col",{staticClass:"left",staticStyle:{width:"100px"}},[i("add-product",{attrs:{group:t.productOption[0],category:t.productOption[1]}})],1)],1),t._v(" "),i("el-table",{ref:"categoryTable",staticStyle:{width:"100vw","text-align":"left"},attrs:{data:t.products,"highlight-current-row":!0,"empty-text":"No data",size:"small"}},[i("el-table-column",{attrs:{label:"Image",width:"70"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:t.row.img_0.thumbnail,height:"40px",width:"auto"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"id",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v("Id: "+t._s(e.row.productId))]),t._v(" "),i("span",[t._v("* unique database parameter")]),t._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t._f("snippet")(e.row.productId,6)))])],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Vendor Code",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.vendorCode))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Brand",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.brand))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Title/Description",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v("Title: "+t._s(e.row.title))]),t._v(" "),i("p",[t._v("Description: "+t._s(e.row.description))]),t._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[t._v(t._s(t._f("snippet")(e.row.title,32)))])],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Price",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.price)+" "+t._s(e.row.currency))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Quantity",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.qty))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Color",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.color))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Size",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.size))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Creation Date",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("date")(e.row.creationDate)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"Operations"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("edit-product-image",{attrs:{editProduct:e.row}}),t._v(" "),i("edit-product",{attrs:{editProduct:e.row}}),t._v(" "),i("delete-product",{attrs:{id:e.row.productId,title:e.row.title}})],1)]}}])})],1)],1)],1):t._e()},staticRenderFns:[]};var st=i("VU/8")(ot,at,!1,function(t){i("omRr")},"data-v-1c8ca96a",null).exports,nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("All orders info")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.ordersData,"highlight-current-row":"",size:"small"}},[i("el-table-column",{attrs:{prop:"txn_id",label:"PayPal txn_id",width:"170"}}),t._v(" "),i("el-table-column",{attrs:{prop:"mc_gross",label:"Gross",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"mc_currency",label:"Currency",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"payment_date",label:"Payment Date",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"payer_email",label:"Email",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{label:"Delivery Info"}},[i("el-table-column",{attrs:{prop:"address_country",label:"Country",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{label:"Address Info"}},[i("el-table-column",{attrs:{prop:"address_city",label:"City",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"address_street",label:"Street",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{prop:"address_zip",label:"Zip",width:"100"}})],1)],1)],1)],1)},staticRenderFns:[]};var lt=i("VU/8")({name:"AdminProducts",data:function(){return{}},computed:{ordersData:function(){return this.$store.getters.allOrders}}},nt,!1,function(t){i("/yqo")},"data-v-812dfc18",null).exports,ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ml-5"},[i("h2",[t._v(t._s(this.title))]),t._v(" "),i("v-btn",{staticClass:"primary",on:{click:function(e){t.addDialogVisible=!0}}},[i("v-icon",{staticClass:"white--text"},[t._v("add")])],1),t._v(" "),i("el-dialog",{attrs:{title:"Add new "+this.title,visible:t.addDialogVisible,width:"30%"},on:{"update:visible":function(e){t.addDialogVisible=e}}},[i("el-input",{model:{value:t.item,callback:function(e){t.item=e},expression:"item"}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.addDictionaryItem}},[t._v("Add")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"Delete "+this.name+" "+t.item+" ?",visible:t.deleteDialogVisible,width:"30%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:t.deleteDictionaryItem}},[t._v("Delete")])],1)]),t._v(" "),t.dictionary?i("el-select",{attrs:{filterable:"",placeholder:this.title},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.dictionary,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})):t._e(),t._v(" "),i("v-btn",{staticClass:"info",attrs:{disabled:!this.item},on:{click:function(e){t.deleteDialogVisible=!0}}},[i("v-icon",{staticClass:"white--text"},[t._v("delete")])],1)],1)},staticRenderFns:[]};var ut={name:"AdminDictionaries",components:{DictionarySubject:i("VU/8")({name:"DictionarySubject",props:["title","name"],data:function(){return{item:"",addDialogVisible:!1,deleteDialogVisible:!1}},methods:{addDictionaryItem:function(){this.addDialogVisible=!1;var t=this.dictionary;-1===t.indexOf(this.item)&&t.push(this.item),this.$store.dispatch("uploadDictionary",{name:this.name,data:t})},deleteDictionaryItem:function(){this.deleteDialogVisible=!1;var t=this.dictionary;t.splice(t.indexOf(this.item),1),this.item="",this.$store.dispatch("uploadDictionary",{name:this.name,data:t})}},computed:{dictionary:function(){return this.$store.getters[this.name]}}},ct,!1,function(t){i("jSpx")},"data-v-3a51098e",null).exports},data:function(){return{}}},dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("* Common system constants")]),this._v(" "),e("dictionary-subject",{attrs:{title:"Brand",name:"brands"}}),this._v(" "),e("dictionary-subject",{attrs:{title:"Color",name:"colors"}})],1)},staticRenderFns:[]};var mt={name:"NavMenu",components:{AdminProducts:st,AdminOrders:lt,Dictionaries:i("VU/8")(ut,dt,!1,function(t){i("cJ/O")},"data-v-6b0d4415",null).exports},data:function(){return{}}},pt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-tabs",{staticClass:"admin_tabs",attrs:{"tab-position":"left"}},[e("el-tab-pane",{attrs:{label:"Products"}},[e("admin-products")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"Orders"}},[e("admin-orders")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"Dictionaries"}},[e("dictionaries")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"Contacts"}},[this._v("Contacts")])],1)},staticRenderFns:[]};var ft={components:{NavMenu:i("VU/8")(mt,pt,!1,function(t){i("R0EL")},"data-v-50858641",null).exports},data:function(){return{sideNav:!1,mainTitle:"Admin Panel"}},computed:{menuItems:function(){var t=[];return this.isAuthenticatedUser||(t=[{icon:"account_circle",title:"Singup",link:"/signup"},{icon:"lock_open",title:"Singin",link:"/signin"}]),t},error:function(){return this.$store.getters.error}},methods:{onLogout:function(){this.$store.dispatch("logout")},goHome:function(){this.$router.push("/"),window.location.reload()},onDismissed:function(){this.$store.dispatch("CLEAR_ERR")}}},vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{light:""}},[i("v-navigation-drawer",{attrs:{temporary:"",absolute:""},model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[i("v-list",[t._l(t.menuItems,function(e){return i("v-list-tile",{key:e.title,attrs:{to:e.link}},[i("v-list-tile-action",[i("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),i("v-list-tile-content",[t._v(t._s(e.title))])],1)}),t._v(" "),this.isAuthenticatedUser?i("v-list-tile",{on:{click:t.onLogout}},[i("v-list-tile-action",[i("v-icon",[t._v("exit_to_app")])],1),t._v(" "),i("v-list-tile-content",[t._v("Logout")])],1):t._e()],2)],1),t._v(" "),i("v-toolbar",{staticClass:"primary",attrs:{dark:""}},[i("v-toolbar-title",[i("router-link",{staticClass:"title",attrs:{to:"/admin"}},[t._v("\n        "+t._s(t.mainTitle)+"\n      ")])],1),t._v(" "),i("v-toolbar-side-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.sideNav=!t.sideNav}}}),t._v(" "),i("v-spacer"),t._v(" "),i("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[i("v-btn",{staticClass:"primary white--text",attrs:{flat:""},on:{click:t.goHome}},[i("v-icon",{attrs:{left:"",dark:""}},[t._v("home")]),t._v("\n        Home\n      ")],1),t._v(" "),t._l(t.menuItems,function(e){return i("v-btn",{key:e.title,staticClass:"primary white--text",attrs:{flat:"",to:e.link}},[i("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),t._v(" "),this.isAuthenticatedUser?i("v-btn",{staticClass:"primary white--text",attrs:{flat:""},on:{click:t.onLogout}},[i("v-icon",{attrs:{left:"",dark:""}},[t._v("exit_to_app")]),t._v("\n        Logout\n      ")],1):t._e()],2)],1),t._v(" "),this.isAdmin?i("div",[i("nav-menu",{staticClass:"left"})],1):i("v-container",[i("v-card",[t.error?i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{xs12:""}},[i("app-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),i("v-card-title",[t._v("For admin access:")]),t._v(" "),i("v-card-text",[i("p",[t._v("Alexey Azarov")]),t._v(" "),i("p",[t._v("8 (999) 467 78 57")]),t._v(" "),i("p",[t._v("smelayapandagm@gmail.com")])])],1)],1),t._v(" "),i("main",[i("router-view")],1)],1)},staticRenderFns:[]};var ht=i("VU/8")(ft,vt,!1,function(t){i("/AcB")},"data-v-26e295da",null).exports,_t={name:"Men",components:{BackToTop:i("vJRe").a},data:function(){return{sortAsc:!0,activeName:1,isCollapse:!0,sliderValues:[1,2e3],selectedBrand:null,selectedColor:null,selectedGroup:null,selectedCategory:"all",formLabelWidth:"120px"}},methods:{sortByPrice:function(){this.sortAsc=!this.sortAsc,this.filterProducts()},viewProduct:function(t){this.$router.push("/product/"+t)},changeCategory:function(t){-1!==["Group A","Group B","..."].indexOf(t)?(this.selectedGroup=t,this.selectedCategory=null):(this.selectedCategory=t,this.selectedGroup=null)},filterProducts:function(){this.$store.dispatch("resetLastVisible"),this.filter(!1)},loadMore:function(){this.filter(!0)},filter:function(t){return this.$store.dispatch("fetchProducts",{loadMore:t,sortAsc:this.sortAsc,minPrice:this.sliderValues[0],maxPrice:this.sliderValues[1],category:"all"===this.selectedCategory?null:this.selectedCategory,group:this.selectedGroup,color:this.selectedColor,brand:this.selectedBrand})}},computed:{products:function(){return this.$store.getters.products},maxPrice:function(){var t=0;for(var e in this.products)Number(this.products[e].price)>t&&(t=Number(this.products[e].price));return t},brands:function(){return this.$store.getters.brands},colors:function(){return this.$store.getters.colors}}},gt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[this.isLoading?i("v-container",[i("app-loader")],1):i("div",[i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"left"}},[i("el-col",{attrs:{xs:24,sm:24,md:6,lg:4,xl:4}},[i("el-radio-group",{staticStyle:{"margin-bottom":"20px","margin-top":"4px","margin-left":"10px"},model:{value:t.isCollapse,callback:function(e){t.isCollapse=e},expression:"isCollapse"}},[i("el-radio-button",{attrs:{label:!1}},[t._v("expand")]),t._v(" "),i("el-radio-button",{attrs:{label:!0}},[t._v("collapse")])],1),t._v(" "),i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"all",collapse:t.isCollapse},on:{select:t.changeCategory}},[i("el-menu-item",{attrs:{index:"all"},on:{click:t.filterProducts}},[i("v-icon",[t._v("select_all")]),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("All categories")])],1),t._v(" "),i("el-submenu",{attrs:{index:"Category A"}},[i("template",{slot:"title"},[i("v-icon",[t._v("hd")]),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("Group A")])],1),t._v(" "),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"Group A"},on:{click:t.filterProducts}},[t._v("All in Group A")])],1),t._v(" "),i("el-menu-item-group",[i("span",{attrs:{slot:"title"},slot:"title"},[t._v("Group One")]),t._v(" "),i("el-menu-item",{attrs:{index:"Category A1"},on:{click:t.filterProducts}},[t._v("Category A1")]),t._v(" "),i("el-menu-item",{attrs:{index:"Category A2"},on:{click:t.filterProducts}},[t._v("Category A2")])],1),t._v(" "),i("el-menu-item-group",{attrs:{title:"Group Two"}},[i("el-menu-item",{attrs:{index:"Category A3"},on:{click:t.filterProducts}},[t._v("Category A3")])],1)],2),t._v(" "),i("el-menu-item",{attrs:{index:"Category B"},on:{click:t.filterProducts}},[i("v-icon",[t._v("high_quality")]),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("Category B")])],1),t._v(" "),i("el-menu-item",{attrs:{index:"Category C"},on:{click:t.filterProducts}},[i("v-icon",[t._v("closed_caption")]),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("Category C")])],1),t._v(" "),i("el-menu-item",{attrs:{index:"Category D"},on:{click:t.filterProducts}},[i("v-icon",[t._v("fiber_new")]),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("Category D")])],1)],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:18,lg:16,xl:14,type:"flex",align:"middle"}},[i("el-collapse",{staticStyle:{"margin-left":"12px","margin-right":"12px"},attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-collapse-item",{attrs:{title:"Filter",name:"1"}},[i("el-button",{staticClass:"pr-4 pb-0",attrs:{type:"text"},on:{click:t.sortByPrice}},[i("span",{staticClass:"ml-3"},[t._v("Price")]),t._v(" "),i("el-tag",{attrs:{size:"mini"}},[this.sortAsc?i("i",{staticClass:"el-icon-caret-bottom"}):i("i",{staticClass:"el-icon-caret-top"})])],1),t._v(" "),i("div",{staticClass:"ml-3 mr-3"},[i("el-slider",{attrs:{range:"",step:100,min:0,max:2e3},on:{change:t.filterProducts},model:{value:t.sliderValues,callback:function(e){t.sliderValues=e},expression:"sliderValues"}})],1),t._v(" "),i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"center"}},[t.brands?i("el-select",{staticClass:"mr-2",attrs:{filterable:"",clearable:"","no-match-text":"Brand is missing",placeholder:"Brand"},on:{change:t.filterProducts},model:{value:t.selectedBrand,callback:function(e){t.selectedBrand=e},expression:"selectedBrand"}},t._l(t.brands,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})):t._e(),t._v(" "),t.colors?i("el-select",{staticClass:"ml-2",attrs:{filterable:"",clearable:"","no-match-text":"Color is missing",placeholder:"Color"},on:{change:t.filterProducts},model:{value:t.selectedColor,callback:function(e){t.selectedColor=e},expression:"selectedColor"}},t._l(t.colors,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})):t._e()],1)],1)],1),t._v(" "),i("el-row",t._l(t.products,function(e,r){return i("el-col",{key:r,attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[i("div",{staticClass:"card_wrapper",on:{click:function(i){t.viewProduct(e.productId)}}},[i("v-card",{staticClass:"main_card",attrs:{height:"410px"}},[i("v-card-media",{attrs:{src:e.img_0.card,height:"300px"}}),t._v(" "),i("v-card-title",[i("span",{staticClass:"grey--text"},[t._v(t._s(e.price)+" "+t._s(e.currency))])]),t._v(" "),i("p",{staticClass:"pl-2 pr-2"},[t._v(t._s(t._f("snippet")(e.title,60)))])],1)],1)])})),t._v(" "),i("div",{staticClass:"mb-4 mt-3"},[this.$store.getters.isAllLoaded?t._e():i("el-button",{attrs:{type:"text"},on:{click:t.loadMore}},[t._v("Load more")])],1)],1)],1),t._v(" "),i("back-to-top",{attrs:{visibleOffset:"500",right:60,bottom:30}},[i("el-button",{attrs:{round:""}},[i("el-icon",{staticClass:"el-icon-arrow-up"})],1)],1)],1)],1)},staticRenderFns:[]};var bt=i("VU/8")(_t,gt,!1,function(t){i("8xu7")},"data-v-7a1ac65b",null).exports,yt={props:["imgNormal","imgZoom","scale","disabled"],data:function(){return{scaleFactor:1}},methods:{zoom:function(){this.disabled||(this.$refs.zoom.style.opacity=1,this.$refs.normal.style.opacity=0)},unzoom:function(){this.disabled||(this.$refs.zoom.style.opacity=0,this.$refs.normal.style.opacity=1)},move:function(t){if(!this.disabled){var e=this.pageOffset(this.$el),i=this.$refs.zoom,r=this.$refs.normal,o=t.clientX-e.x+window.scrollX,a=t.clientY-e.y+window.scrollY,s=o/r.offsetWidth,n=a/r.offsetHeight,l=s*(i.offsetWidth*this.scaleFactor-r.offsetWidth),c=n*(i.offsetHeight*this.scaleFactor-r.offsetHeight);i.style.left=-l+"px",i.style.top=-c+"px"}},pageOffset:function(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{y:e.top+r,x:e.left+i}}},mounted:function(){this.$props.scale&&(this.scaleFactor=parseInt(this.$props.scale),this.$refs.zoom.style.transform="scale("+this.scaleFactor+")")}},xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"zoom-on-hover",on:{mousemove:this.move,mouseenter:this.zoom,mouseleave:this.unzoom}},[e("img",{ref:"normal",staticClass:"normal",attrs:{src:this.imgNormal}}),this._v(" "),e("img",{ref:"zoom",staticClass:"zoom",attrs:{src:this.imgZoom||this.imgNormal,height:"950px",width:"auto"}})])},staticRenderFns:[]};var wt={name:"OneClick",props:["alreadyAddedProduct","productId","productTitle"],data:function(){var t=this;return{dialogVisible:!1,oneClickForm:{nickname:"",email:"",phone:""},formRules:{nickname:[{validator:function(t,e,i){""===e?i(new Error("Please input nickname")):i()},trigger:"blur"}],email:[{validator:function(e,i,r){if(!i)return r(new Error("Please input the Email"));setTimeout(function(){t.isValidEmail(i)?r():r(new Error("Email is not valid"))},1e3)},trigger:"blur"}]}}},methods:{buyOneClick:function(){this.dialogVisible=!0},submitForm:function(){this.dialogVisible=!1;var t=this.oneClickForm;console.log(t),this.$http.get("https://us-central1-e-store-dev.cloudfunctions.net/processPayPal",{params:t,headers:{"Access-Control-Allow-Origin":"*"}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},isValidEmail:function(){return/^\S+@\S+\.\S+$/.test(this.oneClickForm.email)},isValidPhone:function(){return 11===this.oneClickForm.phone.replace(/[^0-9]/g,"").length}},computed:{isValidForm:function(){return this.isValidPhone()&&this.isValidEmail()&&this.oneClickForm.nickname}}},Ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t.alreadyAddedProduct?t._e():i("el-button",{staticClass:"mt-3",attrs:{size:"medium"},on:{click:t.buyOneClick}},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("\n      Buy one click\n    ")]),t._v(" "),i("i",{staticClass:"el-icon-check ml-2",staticStyle:{transform:"scale(1.5)"}})]),t._v(" "),i("el-dialog",{attrs:{title:"Buy one click: "+t.productTitle,width:"100%",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{xs:23,sm:14,md:10,lg:8,xl:6}},[i("el-form",{ref:"oneClickForm",staticClass:"demo-ruleForm",attrs:{model:t.oneClickForm,"status-icon":"",rules:t.formRules,"label-width":"120px","label-position":"top"}},[i("el-form-item",{attrs:{label:"Nickname",prop:"nickname"}},[i("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.oneClickForm.nickname,callback:function(e){t.$set(t.oneClickForm,"nickname",e)},expression:"oneClickForm.nickname"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Email",prop:"email"}},[i("el-input",{attrs:{type:"email","auto-complete":"off"},model:{value:t.oneClickForm.email,callback:function(e){t.$set(t.oneClickForm,"email",e)},expression:"oneClickForm.email"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Phone",prop:"phone"}},[i("masked-input",{staticClass:"el-input__inner",attrs:{required:"",mask:"\\+\\7 (111) 111-11-11",placeholder:"Phone number"},model:{value:t.oneClickForm.phone,callback:function(e){t.$set(t.oneClickForm,"phone",e)},expression:"oneClickForm.phone"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",disabled:!t.isValidForm},on:{click:t.submitForm}},[t._v("\n              One Click!\n            ")]),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var kt={props:["id"],name:"ManId",components:{ZoomOnHover:i("VU/8")(yt,xt,!1,function(t){i("1WXB")},null,null).exports,OneClick:i("VU/8")(wt,Ct,!1,function(t){i("GcdA")},"data-v-6ad5a8a6",null).exports},data:function(){return{dialogVisible:!1,oneClickDialogVisible:!1,viewImage:""}},computed:{product:function(){return this.$store.getters.productById(this.id)},cart:function(){return this.$store.getters.cart},alreadyAddedProduct:function(){var t=this;return this.$store.getters.cart.find(function(e){return e.productId===t.id})}},methods:{addToCart:function(){this.isAuthenticatedUser||(this.dialogVisible=!0);var t={};t.productId=this.id,t.qty=1,t.title=this.product.title,t.color=this.product.color,t.size=this.product.size,t.price=this.product.price,t.currency=this.product.currency,this.$store.dispatch("addToCart",t)},removeFromCart:function(){this.$store.dispatch("removeFromCart",this.alreadyAddedProduct.cartId)},signInAnonymously:function(){this.dialogVisible=!1,this.$store.dispatch("signInAnonymously")},loadOriginal:function(t){for(var e=0;e<5;e++)this.$refs["img_"+e]&&this.$refs["img_"+e].classList.remove("active");this.$refs[t].classList.add("active"),this.viewImage=this.product[t].original}}},At={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[this.isLoading?i("v-container",[i("app-loader")],1):i("div",[t.product?i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{"el-row":"",type:"flex",justify:"center"}},[i("el-col",{attrs:{span:1}},[i("router-link",{attrs:{to:"/shop"}},[i("el-button",{staticClass:"hidden-sm-and-down",staticStyle:{"margin-left":"-10px"},attrs:{type:"text"}},[i("p",{staticClass:"back_to_shop"},[t._v("\n              Back to Shop\n            ")])])],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:20,md:18,lg:16,xl:14,type:"flex",align:"middle"}},[i("el-card",[i("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[i("zoom-on-hover",{staticClass:"main_img",attrs:{"img-normal":t.viewImage?t.viewImage:t.product.img_0.original,"img-zoom":t.viewImage?t.viewImage:t.product.img_0.original}}),t._v(" "),i("el-row",{staticClass:"mt-3"},[t.product.img_0.thumbnail?i("img",{ref:"img_0",staticClass:"thumb_img active",attrs:{src:t.product.img_0.thumbnail},on:{click:function(e){t.loadOriginal("img_0")}}}):t._e(),t._v(" "),t.product.img_1.thumbnail?i("img",{ref:"img_1",staticClass:"thumb_img",attrs:{src:t.product.img_1.thumbnail},on:{click:function(e){t.loadOriginal("img_1")}}}):t._e(),t._v(" "),t.product.img_2.thumbnail?i("img",{ref:"img_2",staticClass:"thumb_img",attrs:{src:t.product.img_2.thumbnail},on:{click:function(e){t.loadOriginal("img_2")}}}):t._e(),t._v(" "),t.product.img_3.thumbnail?i("img",{ref:"img_3",staticClass:"thumb_img",attrs:{src:t.product.img_3.thumbnail},on:{click:function(e){t.loadOriginal("img_3")}}}):t._e(),t._v(" "),t.product.img_4.thumbnail?i("img",{ref:"img_4",staticClass:"thumb_img",attrs:{src:t.product.img_4.thumbnail},on:{click:function(e){t.loadOriginal("img_4")}}}):t._e()]),t._v(" "),i("el-row",{staticClass:"mt-4"},[i("p",{staticStyle:{"font-size":"24px"}},[i("i",{staticClass:"el-icon-minus"}),t._v("\n                  Re"),i("span",{staticClass:"primary--text"},[t._v("High")]),t._v(" Store\n                  "),i("i",{staticClass:"el-icon-minus"})])])],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12},model:{value:t.product,callback:function(e){t.product=e},expression:"product"}},[i("h2",{staticClass:"mt-3"},[t._v(t._s(t.product.title))]),t._v(" "),i("v-divider",{staticClass:"mb-3 mt-3"}),t._v(" "),i("div",{staticClass:"product_info"},[i("p",[t._v("Description: "+t._s(t.product.description)+" ")]),t._v(" "),i("p",[t._v("Total Quantity: "+t._s(t.product.qty)+" ")]),t._v(" "),i("p",[t._v("Color: "+t._s(t.product.color)+" ")]),t._v(" "),i("p",[t._v("Size: "+t._s(t.product.size)+" ")]),t._v(" "),i("p",[t._v("Weight: "+t._s(t.product.weight)+" "+t._s(t.product.weightMeasure))])]),t._v(" "),i("v-divider",{staticClass:"mb-3 mt-4"}),t._v(" "),i("p",[t._v("Price: "+t._s(t.product.price)+" "+t._s(t.product.currency))]),t._v(" "),i("el-dialog",{attrs:{title:"One second please!",visible:t.dialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("span",[t._v("To continue shopping please register on the site!")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("router-link",{attrs:{to:"/signup"}},[i("el-button",[t._v("Sing up")])],1),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.signInAnonymously}},[t._v("Anonymously")])],1)]),t._v(" "),t.alreadyAddedProduct?t._e():i("el-button",{staticClass:"mt-3",attrs:{size:"medium",type:"primary"},on:{click:t.addToCart}},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("\n                  Add to cart\n                ")]),t._v(" "),i("i",{staticClass:"el-icon-goods ml-2",staticStyle:{transform:"scale(1.5)"}})]),t._v(" "),i("one-click",{attrs:{alreadyAddedProduct:t.alreadyAddedProduct,productId:t.product.productId,productTitle:t.product.title}}),t._v(" "),t.alreadyAddedProduct?i("div",[i("router-link",{attrs:{to:"/cart"}},[i("el-button",{staticClass:"mb-2 success--text",attrs:{type:"text"}},[t._v("\n                    Already added to cart!\n                    "),i("i",{staticClass:"el-icon-d-arrow-right"})])],1),t._v(" "),i("br"),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:t.removeFromCart}},[i("v-icon",[t._v("remove_shopping_cart")])],1)],1):t._e()],1)],1)],1)],1)],1):t._e()],1)],1)},staticRenderFns:[]};var Pt=i("VU/8")(kt,At,!1,function(t){i("9ou9")},"data-v-77d78ebf",null).exports;r.default.use(c.a);var It=new c.a({routes:[{path:"/",name:"home",component:p},{path:"/signin",name:"signin",component:P},{path:"/signup",name:"signup",component:R},{path:"/account",name:"account",component:S,beforeEnter:function(t,e,i){H.getters.user?i():i("/signin")}},{path:"/cart",name:"cart",component:C},{path:"/info",name:"info",component:v},{path:"/shop",name:"shop",component:bt},{path:"/product/:id",name:"product",props:!0,component:Pt},{path:"/admin",name:"admin",props:!0,component:ht}],mode:"history"}),$t=i("8+8L"),Rt=(i("tvR6"),i("3EgV")),Ft=i.n(Rt),St=(i("7zck"),{computed:{isAuthenticatedUser:function(){return Boolean(H.getters.user)},isAdmin:function(){return H.getters.isAdmin},isAnonymousUser:function(){return H.getters.user.isAnonymous}}}),Dt={computed:{isLoading:function(){return H.getters.loading}}},Vt={render:function(){var t=this.$createElement;return(this._self._c||t)("el-alert",{attrs:{title:"Error",type:"error",description:this.text,"show-icon":""}})},staticRenderFns:[]};var Et=i("VU/8")({name:"alert",props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},Vt,!1,function(t){i("8h/0")},"data-v-de89b0da",null).exports,Lt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:!0,expression:"true",modifiers:{fullscreen:!0}}]})},staticRenderFns:[]},Ot=i("VU/8")(null,Lt,!1,null,null,null).exports,Nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",light:"",flat:"",fab:"",color:"white"},slot:"activator"},[e("v-icon",[this._v("lightbulb_outline")])],1),this._v(" "),e("p",{staticClass:"text-xs-center"},[e("br"),this._v("\n    Если у вас возникли технические проблемы,"),e("br"),this._v("\n    напишите пожалуйста в отдел разработки на почту:"),e("br"),this._v("\n    SmelayaPandaGM@gmail.com")])],1)},staticRenderFns:[]};var Ut=i("VU/8")({name:"help-tooltip",data:function(){return{show:!1}}},Nt,!1,function(t){i("JcAr")},"data-v-d4a4c0ec",null).exports,Gt=i("4q2C");r.default.mixin(St),r.default.mixin({computed:{imageHeight:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"150px";case"sm":return"200px";case"md":return"250px";case"lg":return"300px";case"xl":return"400px"}}}}),r.default.mixin(Dt),r.default.mixin({data:function(){return{appMail:"montessoriberdsk@gmail.com"}}}),r.default.filter("date",function(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",timezone:"UTC"})}),r.default.filter("admin_date",function(t){return new Date(t).toLocaleString("ru",{month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"})}),r.default.filter("snippet",function(t,e){return t.length>e?t.slice(0,e)+" . . .":t}),r.default.component("masked-input",Gt.a),r.default.component("app-alert",Et),r.default.component("app-loader",Ot),r.default.component("app-help-tooltip",Ut),r.default.use($t.a),r.default.use(E.a),r.default.use(Ft.a,{theme:{primary:"#409EFF",secondary:"#2c3e50",success:"#67c23a",warning:"#e6a23c",danger:"#f56c6c",info:"#909399"}}),r.default.config.productionTip=!1;var Bt;Bt={apiKey:"AIzaSyDWYuL9ChkfHkLiINoz7ZdDuQntk4eWrI8",authDomain:"e-store-dev.firebaseapp.com",databaseURL:"https://e-store-dev.firebaseio.com",projectId:"e-store-dev",storageBucket:"e-store-dev.appspot.com",messagingSenderId:"252391298748"},new r.default({el:"#app",router:It,store:H,components:{App:l},template:"<App/>",created:function(){var t=this;u.initializeApp(Bt),u.auth().onAuthStateChanged(function(e){e&&t.$store.dispatch("autoSignIn",e),t.$store.dispatch("fetchProducts",{sortAsc:!0,category:"admin"===t.$router.history.current.name?"Category A1":null}),t.$store.dispatch("fetchUserCart"),t.$store.dispatch("fetchUserOrders"),t.$store.dispatch("fetchAllOrders"),t.$store.dispatch("fetchDictionaries")})}})},R0EL:function(t,e){},VmyN:function(t,e){},bDaC:function(t,e,i){t.exports=i.p+"static/img/people.ecc07ab.jpg"},beJZ:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.app-header[data-v-5dceaf82] {\n  height: 60px;\n}\n",""])},"cJ/O":function(t,e){},dSdV:function(t,e){},edra:function(t,e){},iE6y:function(t,e){},jSpx:function(t,e){},mU4s:function(t,e){},nrQ2:function(t,e){},omRr:function(t,e){},rTiw:function(t,e){},"rWA+":function(t,e){},tvR6:function(t,e){},wAGp:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.40960ee980e210638156.js.map